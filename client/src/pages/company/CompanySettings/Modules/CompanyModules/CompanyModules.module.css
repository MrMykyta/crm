.wrap { display: grid; gap: 16px; }
.header { display:flex; flex-direction:column; gap: 4px; padding: 8px 2px; }
.title { margin:0; font-size: var(--fs-xl); font-weight: var(--fw-bold); }
.subtitle { margin:0; color: var(--muted); font-size: var(--fs-sm); }

.skeleton{
  padding: 24px;
  background: var(--card-bg);
  border: 1px solid var(--card-brd);
  border-radius: var(--radius-lg);
  box-shadow: var(--elev-1);
}

.grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap: 20px;
}

.card{
  background: var(--card-bg);
  border: 1px solid var(--card-brd);
  border-radius: var(--radius-xl);
  padding: 18px 20px;
  min-height: 240px;
  display:flex;
  flex-direction: column;
  align-items: center;
}

.cardHead { margin-bottom: 6px; }
.cardTitle { margin: 0; font-size: var(--fs-lg); text-align: center; }

.iconBox{
  margin: 10px 0 16px;
  width: 88px; height: 88px;
  border-radius: 14px;
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--primary-start) 16%, transparent),
    color-mix(in srgb, var(--primary-end) 8%, transparent));
  display:grid; place-items:center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
}
.icon{ font-size: 34px; }

.mainToggle{ margin-bottom: 6px; }

.extras{
  margin: 10px 0 0;
  padding: 0;
  width: 100%;
  list-style: none;
  display:grid;
  gap: 10px;
}
.extraRow{ display:flex; align-items:center; justify-content: space-between; gap: 12px; }
.extraLabel{ color: var(--muted); font-size: var(--fs-sm); }

/* switch */
.switch{
  --w: 46px; --h: 24px;
  width: var(--w); height: var(--h);
  border-radius: var(--h);
  border: 1px solid color-mix(in srgb, var(--card-brd) 80%, transparent);
  background: var(--switch-track);
  position: relative;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.15);
  cursor: pointer;
  transition: background var(--tr-fast), border-color var(--tr-fast);
}
.knob{
  position: absolute; top: 50%; left: 3px;
  transform: translateY(-50%);
  width: calc(var(--h) - 6px); height: calc(var(--h) - 6px);
  border-radius: 50%;
  background: var(--switch-knob);
  box-shadow: 0 2px 6px rgba(0,0,0,.25);
  transition: left var(--tr-fast);
}
.on .knob{ left: calc(var(--w) - var(--h) + 3px); }

.green.on{
  background: color-mix(in srgb, var(--success) 35%, var(--switch-track));
  border-color: color-mix(in srgb, var(--success) 55%, var(--card-brd));
}
.red:not(.on){
  background: color-mix(in srgb, var(--danger) 20%, var(--switch-track));
  border-color: color-mix(in srgb, var(--danger) 45%, var(--card-brd));
}

.switch.disabled,
.switch:disabled{
  opacity: .5;
  cursor: not-allowed;
  filter: grayscale(20%);
  box-shadow: inset 0 1px 2px rgba(0,0,0,.12);
}
.switch.disabled .knob{ box-shadow: 0 1px 3px rgba(0,0,0,.2); }

/* визуально гасим список экстр при OFF модуля */
.locked{ opacity: .6; }
.locked .extraRow{ pointer-events: none; }

@media (max-width: 1100px){ .grid{ grid-template-columns: repeat(2, minmax(260px, 1fr)); } }
@media (max-width: 720px){ .grid{ grid-template-columns: 1fr; } }